<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="js/all.js"></script>
    <script type="text/javascript" src="js/oobian_demo.js"></script>
    <script type="text/javascript" src="js/physics.js"></script>
    
    <title>Oobian HTML5 Demo</title>
  </head>
  <body>
    <canvas id="canvas_element" width="300" height="300" style="border:1px solid #ccc"></canvas>
    <script type="text/javascript">

		(function () {
		    var canvas_ctx = new fabric.Canvas('canvas_element', { selection: false });
		    var objs = initObjs(canvas_ctx);

		    var particle = JsType.Physics$Particle.definition.ctor.call(
                10, 1, mass, restingForce, forceDissipationFunction);

		    var simulation = JsTypes.Physics$ParticleSimulation.definition.ctor.call(
                0, 0, 300, 300, 9.8, 1, 1, 50, 4, 2);
		    //top, left, width, height, gravity, frictionConstant, staticFriction,
		    //connectionLength, connectionSpringConstant, forceDissipationFunction);


		    //simulation.AddParticle();

		    function dblClickHandler() {
		        initObjs(canvas_ctx);
		    }

		    fabric.util.addListener(fabric.document, 'dblclick', dblClickHandler);
		    fabric.util.removeListener(canvas_ctx.upperCanvasEl, 'dblclick', dblClickHandler);


		})();
	  
    </script>
  </body>
</html>